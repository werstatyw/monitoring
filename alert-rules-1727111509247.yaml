apiVersion: 1
groups:
    - orgId: 1
      name: 1h
      folder: Clickhouse
      interval: 1h
      rules:
        - uid: bdbc1e85-6c3a-447d-9d2b-065ff502d768
          title: Clickhouse disk usage
          condition: E
          data:
            - refId: A
              queryType: table
              relativeTimeRange:
                from: 180
                to: 0
              datasourceUid: de1d4a92-bb5f-4dd8-9dda-59a13b3a4e7d
              model:
                datasource:
                    type: grafana-clickhouse-datasource
                    uid: de1d4a92-bb5f-4dd8-9dda-59a13b3a4e7d
                editorType: sql
                format: 1
                intervalMs: 60000
                maxDataPoints: 43200
                meta:
                    builderOptions:
                        columns: []
                        database: ""
                        limit: 1000
                        mode: list
                        queryType: table
                        table: ""
                pluginVersion: 4.0.0-beta
                queryType: table
                rawSql: SELECT metric, value FROM system.asynchronous_metrics WHERE metric = 'DiskTotal_default';
                refId: A
            - refId: C
              queryType: table
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: de1d4a92-bb5f-4dd8-9dda-59a13b3a4e7d
              model:
                datasource:
                    type: grafana-clickhouse-datasource
                    uid: de1d4a92-bb5f-4dd8-9dda-59a13b3a4e7d
                editorType: sql
                format: 1
                intervalMs: 1000
                maxDataPoints: 43200
                meta:
                    builderOptions:
                        columns: []
                        database: ""
                        limit: 1000
                        mode: list
                        queryType: table
                        table: ""
                pluginVersion: 4.0.0-beta
                queryType: table
                rawSql: SELECT metric, value FROM system.asynchronous_metrics WHERE metric = 'DiskUsed_default';
                refId: C
            - refId: D
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: (($B / (1024**3)) / ($F / (1024**3) / 100)) / 100
                intervalMs: 1000
                maxDataPoints: 43200
                refId: D
                type: math
            - refId: E
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0.92
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: D
                intervalMs: 1000
                maxDataPoints: 43200
                refId: E
                type: threshold
            - refId: B
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: C
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: F
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: F
                type: reduce
          dashboardUid: _hAsuzBnz
          panelId: 20
          noDataState: NoData
          execErrState: Error
          for: 3h
          annotations:
            __dashboardUid__: _hAsuzBnz
            __panelId__: "20"
            summary: '{{ index $labels "alertname" }} - {{ humanizePercentage $values.B.Value }} (>92%) for 3 hours'
          labels:
            endpoint: slack
          isPaused: false
    - orgId: 1
      name: 1m
      folder: Clickhouse
      interval: 1m
      rules:
        - uid: ae527614-c2ed-4ec4-8251-f4e38acfd636
          title: Clickhouse active locks
          condition: C
          data:
            - refId: A
              queryType: table
              relativeTimeRange:
                from: 180
                to: 0
              datasourceUid: de1d4a92-bb5f-4dd8-9dda-59a13b3a4e7d
              model:
                builderOptions:
                    aggregates: []
                    columns:
                        - custom: false
                          name: '*'
                          type: String
                    database: system
                    filters: []
                    groupBy: []
                    limit: 1000
                    meta: {}
                    mode: list
                    orderBy: []
                    queryType: table
                    table: metrics
                datasource:
                    type: grafana-clickhouse-datasource
                    uid: de1d4a92-bb5f-4dd8-9dda-59a13b3a4e7d
                editorType: sql
                format: 1
                intervalMs: 60000
                maxDataPoints: 43200
                meta:
                    builderOptions:
                        aggregates: []
                        columns:
                            - custom: false
                              name: '*'
                              type: String
                        database: system
                        filters: []
                        groupBy: []
                        limit: 1000
                        meta: {}
                        mode: list
                        orderBy: []
                        queryType: table
                        table: metrics
                pluginVersion: 4.0.0-beta
                queryType: table
                rawSql: SELECT sum(value) FROM system.metrics WHERE metric in ['RWLockActiveReaders', 'RWLockActiveWriters', 'RWLockWaitingReaders', 'RWLockWaitingWriters'];
                refId: A
            - refId: B
              relativeTimeRange:
                from: 180
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 180
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 100
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: w5Q2Otank
          panelId: 6
          noDataState: NoData
          execErrState: Error
          for: 5m
          annotations:
            __dashboardUid__: w5Q2Otank
            __panelId__: "6"
            summary: '{{ index $labels "alertname" }} - {{ $values.B.Value }}(>100) for 5 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: db2a872c-e253-4f46-a69a-e0438f6d2c83
          title: Clickhouse CPU utilization
          condition: C
          data:
            - refId: A
              queryType: table
              relativeTimeRange:
                from: 180
                to: 0
              datasourceUid: de1d4a92-bb5f-4dd8-9dda-59a13b3a4e7d
              model:
                datasource:
                    type: grafana-clickhouse-datasource
                    uid: de1d4a92-bb5f-4dd8-9dda-59a13b3a4e7d
                editorType: sql
                format: 1
                intervalMs: 60000
                maxDataPoints: 43200
                meta:
                    builderOptions:
                        columns: []
                        database: ""
                        limit: 1000
                        mode: list
                        queryType: table
                        table: ""
                pluginVersion: 4.0.0-beta
                queryType: table
                rawSql: SELECT metric, value FROM system.asynchronous_metrics WHERE metric = 'OSIdleTimeNormalized';
                refId: A
            - refId: B
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: 1 - $D
                intervalMs: 1000
                maxDataPoints: 43200
                refId: B
                type: math
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0.95
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
            - refId: D
              relativeTimeRange:
                from: 180
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: D
                type: reduce
          dashboardUid: _hAsuzBnz
          panelId: 20
          noDataState: NoData
          execErrState: Error
          for: 5m
          annotations:
            __dashboardUid__: _hAsuzBnz
            __panelId__: "20"
            summary: '{{ index $labels "alertname" }} - {{ humanizePercentage $values.B.Value }} (>95%) for 5 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: ac36f037-0256-4952-b2db-247324416cdf
          title: Clickhouse memory used
          condition: C
          data:
            - refId: A
              queryType: table
              relativeTimeRange:
                from: 180
                to: 0
              datasourceUid: de1d4a92-bb5f-4dd8-9dda-59a13b3a4e7d
              model:
                datasource:
                    type: grafana-clickhouse-datasource
                    uid: de1d4a92-bb5f-4dd8-9dda-59a13b3a4e7d
                editorType: sql
                format: 1
                intervalMs: 60000
                maxDataPoints: 43200
                meta:
                    builderOptions:
                        columns: []
                        database: ""
                        limit: 1000
                        mode: list
                        queryType: table
                        table: ""
                pluginVersion: 4.0.0-beta
                queryType: table
                rawSql: SELECT metric, value FROM system.asynchronous_metrics WHERE metric = 'OSMemoryAvailable';
                refId: A
            - refId: D
              queryType: table
              relativeTimeRange:
                from: 180
                to: 0
              datasourceUid: de1d4a92-bb5f-4dd8-9dda-59a13b3a4e7d
              model:
                datasource:
                    type: grafana-clickhouse-datasource
                    uid: de1d4a92-bb5f-4dd8-9dda-59a13b3a4e7d
                editorType: sql
                format: 1
                intervalMs: 60000
                maxDataPoints: 43200
                meta:
                    builderOptions:
                        columns: []
                        database: ""
                        limit: 1000
                        mode: list
                        queryType: table
                        table: ""
                pluginVersion: 4.0.0-beta
                queryType: table
                rawSql: SELECT metric, value FROM system.asynchronous_metrics WHERE metric = 'OSMemoryTotal';
                refId: D
            - refId: B
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: 1- ($F / $D)
                intervalMs: 1000
                maxDataPoints: 43200
                refId: B
                type: math
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0.9
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
            - refId: E
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: D
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: E
                type: reduce
            - refId: F
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: F
                type: reduce
          dashboardUid: _hAsuzBnz
          panelId: 20
          noDataState: NoData
          execErrState: Error
          for: 5m
          annotations:
            __dashboardUid__: _hAsuzBnz
            __panelId__: "20"
            summary: '{{ index $labels "alertname" }} - {{ humanizePercentage $values.E.Value }} (>90%) for 5 min'
          labels:
            endpoint: slack
          isPaused: false
    - orgId: 1
      name: 1m
      folder: scrappers
      interval: 1m
      rules:
        - uid: b9aa2203-9ff1-4d55-83dc-4d574f1ac70e
          title: items <1 11m adverts balances bidder
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(items{service=~"balances|adverts|bidder"}[1m])
                instant: false
                interval: 1m
                intervalMs: 60000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 1
                        type: lt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 13
          noDataState: NoData
          execErrState: Error
          for: 11m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "13"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: items per minute {{ humanize $values.B.Value }} (<1) for 11 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: b4de1516-c8a9-42a3-b053-3d995969480f
          title: items <10% 3m phrases_positions
          condition: D
          data:
            - refId: A
              relativeTimeRange:
                from: 1800
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                exemplar: false
                expr: increase(items{job="vps", service="phrases_positions"}[1m])
                format: time_series
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 1800
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: E
              relativeTimeRange:
                from: 1800
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: mean
                refId: E
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: ($E / 100)
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: math
            - refId: D
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0.1
                            - 120
                        type: lt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: F
                intervalMs: 1000
                maxDataPoints: 43200
                refId: D
                type: threshold
            - refId: G
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: $B/$C/100
                intervalMs: 1000
                maxDataPoints: 43200
                refId: G
                type: math
            - refId: F
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: G
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: F
                settings:
                    mode: replaceNN
                    replaceWithValue: 0
                type: reduce
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 13
          noDataState: NoData
          execErrState: Error
          for: 3m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "13"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*phrases_positions:* items per minute {{ humanizePercentage $values.G.Value }} (<10%) for 3 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: a732f0ee-b706-4a04-bd7d-ba2865199410
          title: items <1 5m ad_phrases_presets
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 180
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(items{job="vps", service="ad_phrases_presets"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 180
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 180
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 1
                        type: lt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 13
          noDataState: NoData
          execErrState: Error
          for: 5m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "13"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: items per minute {{ humanize $values.B.Value }} (<1) for 5 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: c4aee324-11d0-4a60-9ef3-5ac24127b875
          title: 'items <1M 5m stat_words '
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 1800
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                exemplar: false
                expr: increase(items{job="vps", service="stat_words"}[1m])
                format: time_series
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 1800
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 1800
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 1e+06
                            - 0
                        type: lt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 13
          noDataState: NoData
          execErrState: Error
          for: 5m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "13"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*stat_words:* items per minute {{ humanize $values.B.Value }} (<1M) for 5 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: ccd4d6ec-d327-44a9-aec0-ed477c756853
          title: items <1 31m ad_remainders
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(items{service=~"ad_remainders"}[1m])
                instant: false
                interval: 1m
                intervalMs: 60000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 1
                        type: lt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 13
          noDataState: OK
          execErrState: Error
          for: 31m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "13"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: items per minute {{ humanize $values.B.Value }} (<1) for 31 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: ac01fc5c-02b6-4522-8b1b-3734fa4cf2e2
          title: items <100 10m campaigns
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 660
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(items{service="campaigns"}[1m])
                instant: false
                interval: 1m
                intervalMs: 60000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 660
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 660
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 100
                        type: lt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 13
          noDataState: NoData
          execErrState: Error
          for: 10m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "13"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: items per minute {{ humanize $values.B.Value }} (<100) for 10 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: aa292750-f949-432a-96ef-63fa3c555484
          title: items <1k 31m feedbacks_scrapper
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 2760
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(items{service="feedbacks_scrapper"}[1m])
                instant: false
                interval: 1m
                intervalMs: 60000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 2760
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 2760
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 1000
                        type: lt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 13
          noDataState: NoData
          execErrState: Error
          for: 46m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "13"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: items per minute {{ humanize $values.B.Value }} (<1k) for 46 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: e0c5aac7-24d1-4619-8e43-289bcc4e0aa0
          title: requests <1 5m ad_phrases_presets phrases_positions stat_words
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 180
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(request_latency_count{job="vps", service!="reports_prod"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 180
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 180
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 1
                        type: lt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 6
          noDataState: NoData
          execErrState: Error
          for: 5m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "6"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: requests per minute {{ humanize $values.B.Value }} (<1) for 5 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: b941a8f5-7a5e-4e04-8507-736a10860824
          title: requests <1 11m adverts balances
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                exemplar: false
                expr: increase(request_latency_count{service=~"balances|adverts"}[1m])
                instant: false
                interval: 1m
                intervalMs: 60000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 1
                        type: lt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 13
          noDataState: NoData
          execErrState: Error
          for: 11m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "13"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: requests per minute {{ humanize $values.B.Value }} (<1) for 11 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: df5ebbb8-17fa-49a6-9c5a-9cf60c3e7db3
          title: requests <1 31m ad_remainders
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 660
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(request_latency_count{service=~"ad_remainders"}[1m])
                instant: false
                interval: 1m
                intervalMs: 60000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 660
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 660
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 1
                        type: lt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 13
          noDataState: OK
          execErrState: Error
          for: 31m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "13"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: requests per minute {{ humanize $values.B.Value }} (<1) for 31 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: c56fdfc6-5915-4605-b4d4-e8cac4c4afcf
          title: requests <10 10m campaigns
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 900
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                disableTextWrap: false
                editorMode: builder
                expr: delta(request_latency_count{service=~"campaigns"}[1m])
                format: time_series
                fullMetaSearch: false
                includeNullMetadata: false
                instant: false
                interval: 1m
                intervalMs: 60000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
                useBackend: false
            - refId: B
              relativeTimeRange:
                from: 900
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: sum
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 900
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 5
                        type: lt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 13
          noDataState: OK
          execErrState: Error
          for: 1m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "13"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: requests per minute {{ humanize $values.B.Value }} (<10) for 10 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: d353f47d-0b08-49da-a18c-b67c9bef1db9
          title: requests <1 16m bidder
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 900
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                exemplar: false
                expr: increase(request_latency_count{service=~"bidder"}[1m])
                instant: false
                interval: 1m
                intervalMs: 60000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 900
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 900
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 1
                        type: lt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 13
          noDataState: NoData
          execErrState: Error
          for: 16m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "13"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: requests per minute {{ humanize $values.B.Value }} (<1) for 16 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: a8149900-3499-4188-8d37-d8f7f13c0d2d
          title: requests <1 31m feedbacks_scrapper
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 960
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(request_latency_count{service=~"feedbacks_scrapper"}[1m])
                instant: false
                interval: 1m
                intervalMs: 60000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 960
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 960
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 1
                        type: lt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 13
          noDataState: OK
          execErrState: Error
          for: 31m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "13"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: requests per minute {{ humanize $values.B.Value }} (<1) for 31 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: ed260f23-7707-4af6-be1d-82b03566e3ee
          title: request_failures >15 3m auctions
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 90
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(request_failures{service="auctions"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 90
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 90
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 15
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 6
          noDataState: OK
          execErrState: Error
          for: 3m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "6"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*auctions:* request failures per minute {{ humanize $values.B.Value }} (>15) for 3 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: d012e4cf-6cc0-4f1c-836a-f47cc7be23bd
          title: request_failures >15 6m bidder
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 300
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(request_failures{service="bidder"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 300
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 300
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 15
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 6
          noDataState: OK
          execErrState: Error
          for: 6m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "6"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: request failures per minute {{ humanize $values.B.Value }} (>15) for 6 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: cf5bf145-0f8c-496c-9c12-4e1ba8c7a59b
          title: request_failures >10 instant feedbacks_uploader supplier_articles_scrapper
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(request_failures{service=~"feedbacks_uploader|supplier-articles-scrapper"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 10
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 0s
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: request failures per minute {{ humanize $values.B.Value }} (>10)'
          labels:
            endpoint: slack
          isPaused: false
        - uid: aca1934b-fd4b-45c9-98df-dbb0731934f7
          title: request_failures >10 3m campaigns feedbacks_scrapper ad_phrases_presets
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(request_failures{job!="", service=~"campaigns|feedbacks_scrapper|ad_phrases_presets"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 10
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 3m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: request failures per minute {{ humanize $values.B.Value }} (>10) for 3 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: d9588f9b-66fb-4ee8-9c83-e59e967a3f89
          title: request_failures >10 10m adverts balances
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 360
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(request_failures{job!="", service=~"adverts|balances"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 360
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 360
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 10
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 10m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: request failures per minute {{ humanize $values.B.Value }} (>10) for 10 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: f5ec3975-a754-442b-83f8-da08c4599971
          title: request_failures >50 6m reports_prod
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 180
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(request_failures{job!="", service="reports_prod"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 180
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 180
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 50
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 6
          noDataState: OK
          execErrState: Error
          for: 6m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "6"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: request failures per minute {{ humanize $values.B.Value }} (>50) for 6 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: c2df18c6-800a-4461-a232-bdd49dd0222b
          title: request_failures >20 instant ad_phrases_stats
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(request_failures{service=~"ad_phrases_stats"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 20
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 0s
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: request failures per minute {{ humanize $values.B.Value }} (>20)'
          labels:
            endpoint: slack
          isPaused: false
        - uid: dc1d4298-677d-48b5-8610-8e258688eb11
          title: request_failures >2 21m ad_remainders
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 1200
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(request_failures{service="ad_remainders"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 1200
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 1200
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 2
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 21m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: request failures per minute {{ humanize $values.B.Value }} (>2) for 21 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: d5639942-bf17-4dd8-97cd-75aef1e69599
          title: request_failures >10 3m stat_words
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(request_failures{job!="", service="stat_words"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 10
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 3m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: request failures per minute {{ humanize $values.B.Value }} (>10) for 3 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: f5dbe73a-2a21-4ea4-8b71-af44e5312713
          title: request_failures >3 5m phrases_positions
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 360
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(request_failures{job!="", service=~"phrases_positions"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 360
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 360
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 3
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 5m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: request failures per minute {{ humanize $values.B.Value }} (>3) for 5 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: e137cb52-73ac-4f83-a3f4-66386c632eb8
          title: warnings >20 3m auctions
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 90
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(warnings{service="auctions"}[1m])
                instant: false
                interval: 1m
                intervalMs: 60000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 90
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 90
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 20
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 3m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*auctions:* warnings per minute {{ humanize $values.B.Value }} (>20) for 3 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: bc61ecc0-3d3b-4414-9f7c-24020e1b488e
          title: warnings >100 6m bidder
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(warnings{service="bidder"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 100
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 6
          noDataState: OK
          execErrState: Error
          for: 6m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "6"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: warnings per minute {{ humanize $values.B.Value }} (>100) for 6 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: e198917d-d867-4039-8839-12022def49c2
          title: warnings >3 instant feedbacks_uploader supplier_articles_scrapper
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(warnings{service=~"feedbacks_uploader|supplier-articles-scrapper"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 3
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 0s
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: warnings per minute {{ humanize $values.B.Value }} (>3)'
          labels:
            endpoint: slack
          isPaused: false
        - uid: aa67da5b-4aa0-473f-8a09-759a6a8188a4
          title: warnings >2 3m feedbacks_scrapper
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(warnings{job!="", service="feedbacks_scrapper"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 2
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 3m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: warnings per minute {{ humanize $values.B.Value }} (>2) for 3 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: dae54195-b378-47c8-9a4a-5d13a7305240
          title: warnings >100 3m ad_phrases_presets phrases_positions
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 300
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                exemplar: false
                expr: increase(warnings{job="vps", service=~"phrases_positions|ad_phrases_presets"}[1m])
                format: time_series
                instant: false
                interval: 1m
                intervalMs: 60000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 300
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 300
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 100
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 3m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: warnings per minute {{ humanize $values.B.Value }} (>100) for 3 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: b851d879-730d-43e4-b99b-e538dfc41097
          title: warnings >140 6m adverts balances
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 360
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(warnings{job!="", service=~"adverts|balances"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 360
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 360
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 140
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 6m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: warnings per minute {{ humanize $values.B.Value }} (>140) for 6 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: befb3ced-1f06-4194-a6e7-259aa9f67b1d
          title: warnings >50 10m reports_prod
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 240
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(warnings{job!="", service="reports_prod"}[1m])
                instant: false
                interval: 1m
                intervalMs: 60000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 240
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 240
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 50
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 10m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: warnings per minute {{ humanize $values.B.Value }} (>50) for 10 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: de10a99b-d764-4e89-b6ca-e2252cce8400
          title: warnings >200 instant accounts_products
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(warnings{service=~"accounts_products"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 200
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 0s
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: warnings failures per minute {{ humanize $values.B.Value }} (>200)'
          labels:
            endpoint: slack
          isPaused: false
        - uid: ebe95962-dc80-4af4-ba6a-7bb004fa7629
          title: warnings >70 instant ad_phrases_stats
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(warnings{service=~"ad_phrases_stats"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 70
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 0s
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: warnings failures per minute {{ humanize $values.B.Value }} (>70)'
          labels:
            endpoint: slack
          isPaused: false
        - uid: a478efec-0652-4f14-9a82-5d9c0def6fba
          title: warnings >2 21m ad_remainders
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 1200
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(warnings{service="ad_remainders"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 1200
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 1200
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 2
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 21m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: warnings per minute {{ humanize $values.B.Value }} (>2) for 21 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: a4086298-55c9-4fba-a6ad-34a8dd871c0c
          title: warnings >350 10m campaigns
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 660
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(warnings{job!="", service="campaigns"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 660
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 660
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 350
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 10m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: warnings per minute {{ humanize $values.B.Value }} (>350) for 10 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: f73568dc-3aca-48bf-bed6-30628544e728
          title: warnings >10 5m stat_words
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(warnings{job!="", service="stat_words"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 10
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 5m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: warnings per minute {{ humanize $values.B.Value }} (>10) for 5 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: e25f9035-f69e-4363-8df0-0b508eeb8ae5
          title: 'errors >10 3m stat_words '
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(errors{job!="", service="stat_words"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 10
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 3m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*stat_words:* errors per minute {{ humanize $values.B.Value }} (>10) for 3 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: d19d5ecd-1c89-4363-9b97-66e4ee14c55f
          title: errors >10 instant accounts_products ad_phrases_stats feedbacks_uploader supplier_articles_scrapper
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(errors{service=~"accounts_products|ad_phrases_stats|feedbacks_uploader|supplier-articles-scrapper"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 10
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 0s
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: errors per minute {{ humanize $values.B.Value }} (>10)'
          labels:
            endpoint: slack
          isPaused: false
        - uid: df3cdeda-72f3-48ca-bb09-de0020368f9a
          title: errors >2 6m adverts balances bidder
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 360
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(errors{service="adverts|balances|bidder"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 360
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 360
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 2
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 6m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: errors per minute {{ humanize $values.B.Value }} (>2) for 6 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: ed097cf4-6ac0-48e7-8fc1-55c8be001088
          title: errors >2 3m campaigns feedbacks_scrapper ad_phrases_presets
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(errors{job!="", service=~"campaigns|feedbacks_scrapper|ad_phrases_presets"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 2
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 3m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: errors per minute {{ humanize $values.B.Value }} (>2) for 3 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: c8316d54-23cf-4b8c-9595-2b10fd78af02
          title: errors >20 5m reports_prod
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 180
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(errors{job!="", service="reports_prod"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 180
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 180
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 20
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 5m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: errors per minute {{ humanize $values.B.Value }} (>20) for 5 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: d612a38b-4b64-4f70-8d60-c5bb5c21ad88
          title: errors >2 21m ad_remainders
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 1200
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(errors{service="ad_remainders"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 1200
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 1200
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 2
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 21m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: errors per minute {{ humanize $values.B.Value }} (>2) for 21 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: c9d1a933-8c25-4749-8bb0-7d6231e4f91f
          title: errors >20 3m auctions
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(errors{job!="", service="auctions"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 20
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 3m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: errors per minute {{ humanize $values.B.Value }} (>20) for 3 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: f53b1fa1-d42f-4cb8-a39c-fca9192103b5
          title: errors >4 3m phrases_positions
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: increase(errors{job!="", service="phrases_positions"}[1m])
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: ""
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 120
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 4
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 12
          noDataState: OK
          execErrState: Error
          for: 3m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "12"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: errors per minute {{ humanize $values.B.Value }} (>4) for 3 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: e39b817d-41d6-470e-a813-8bb258a74aa2
          title: Items <200k 5m
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 90168
                to: 81073
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                datasource:
                    type: prometheus
                    uid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
                editorMode: code
                expr: increase(items{service="positions"}[1m])
                format: heatmap
                instant: false
                interval: 1m
                intervalMs: 10000
                legendFormat: Items
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 90168
                to: 81073
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 90168
                to: 81073
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 200000
                        type: lt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 13
          noDataState: OK
          execErrState: Error
          for: 5m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "13"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: items per minute {{ humanize $values.B.Value }} (<200k) for 5 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: fee9968b-bb16-48d0-91e0-1bc004bc6b2e
          title: items <200k 5m positions
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 90421
                to: 83303
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                datasource:
                    type: prometheus
                    uid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
                editorMode: code
                expr: increase(items{service="positions"}[1m])
                format: time_series
                instant: false
                interval: 1m
                intervalMs: 10000
                legendFormat: Items
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: C
              relativeTimeRange:
                from: 90421
                to: 83303
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 200000
                        type: lt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
            - refId: B
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
          dashboardUid: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
          panelId: 13
          noDataState: OK
          execErrState: Error
          for: 5m
          annotations:
            __dashboardUid__: ba9b68ad-6a82-4f81-ac5d-e95b30b8448f
            __panelId__: "13"
            path: '&var-job={{ index $labels "job" }}&var-service={{ index $labels "service" }}'
            scrapper_logs: https://console.cloud.yandex.ru/folders/b1g36jep2lo1jbar61ci/logging/group/{{ if eq (index $labels "job") "functions" }}e23pdf6c7aoiub94krf1{{ else }}e234k1qi9fasqa37c38s{{ end }}/logs?from=now-1h&to=now&size=100&linesInRow=1&{{ if eq (index $labels "job") "functions" }}resourceIds={{ else }}resourceTypes=%2F{{ end }}{{ if eq (index $labels "service") "ad_remainders" }}d4e16hckapejpucmq3uc{{ end }}{{ if eq (index $labels "service") "accounts_products" }}d4e9cc07ve65vbiov1a2{{ end }}{{ if eq (index $labels "service") "adverts" }}d4e1v2r6fk4k9t60j858{{ end }}{{ if eq (index $labels "service") "auctions" }}d4e63s6q05aiu2b9vleh{{ end }}{{ if eq (index $labels "service") "balances" }}d4eg0m9dd67dvplci576{{ end }}{{ if eq (index $labels "service") "bidder" }}d4ei89ednnkt5phg8q86{{ end }}{{ if eq (index $labels "service") "campaigns" }}d4ei90j0rt59ne9tl97l{{ end }}{{ if eq (index $labels "service") "ad_phrases_presets" }}ad_phrases_presets_scrapper{{ end }}{{ if eq (index $labels "service") "phrases_positions" }}phrases_positions{{ end }}{{ if eq (index $labels "service") "reports_prod" }}reports_prod{{ end }}{{ if eq (index $labels "service") "stat_words" }}stat_words_scrapper_prod{{ end }}{{ if eq (index $labels "service") "ad_phrases_stats" }}d4egripindcchbv147le{{ end }}{{ if eq (index $labels "service") "feedbacks_scrapper" }}d4e00gauuokqi7nkoj4i{{ end }}{{ if eq (index $labels "service") "feedbacks_uploader" }}d4e2006eo7r0b58isish{{ end }}{{ if eq (index $labels "service") "supplier-articles-scrapper" }}d4eqkpk6jg4d4fva06sh{{ end }}
            summary: '*{{ index $labels "service" }}*: items per minute {{ humanize $values.B.Value }} (<200k) for 5 min'
          labels:
            endpoint: slack
          isPaused: false
    - orgId: 1
      name: 10s
      folder: main
      interval: 10s
      rules:
        - uid: cc287717-d5e2-4d4a-a056-ac4584f7d2e5
          title: Endpoint
          condition: B
          data:
            - refId: A
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                exemplar: false
                expr: probe_http_status_code{job="blackbox"}
                format: time_series
                instant: false
                interval: 10s
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 200
                            - 205
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: C
                intervalMs: 1000
                maxDataPoints: 43200
                refId: B
                type: threshold
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: C
                type: reduce
          dashboardUid: NEzutrbMk
          panelId: 13
          noDataState: NoData
          execErrState: Error
          for: 20s
          annotations:
            __dashboardUid__: NEzutrbMk
            __panelId__: "13"
            summary: '*{{ index $labels "instance" }}* DOWN - HTTP {{ $values.C.Value }} (!=200)'
          labels:
            endpoint: slack
          isPaused: false
        - uid: e9317613-4c45-4cc5-9143-04c4a5ebcc38
          title: probe duration
          condition: B
          data:
            - refId: A
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                exemplar: false
                expr: sum(probe_http_duration_seconds{}) by (instance)
                format: time_series
                instant: false
                interval: 10s
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 5
                            - 205
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: C
                intervalMs: 1000
                maxDataPoints: 43200
                refId: B
                type: threshold
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: C
                type: reduce
          dashboardUid: NEzutrbMk
          panelId: 4
          noDataState: NoData
          execErrState: Error
          for: 20s
          annotations:
            __dashboardUid__: NEzutrbMk
            __panelId__: "4"
            summary: '{{ index $labels "instance" }} {{ index $labels "alertname" }} is too long - {{ humanize $values.C.Value }} sec (> 5 sec)'
          labels:
            endpoint: slack
          isPaused: false
    - orgId: 1
      name: 1h
      folder: main
      interval: 1h
      rules:
        - uid: fecbcf7a-1e87-4dad-8567-663a59ed9135
          title: cert expiry
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 604800
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: (probe_ssl_earliest_cert_expiry{} - time()) / 3600 / 24
                instant: false
                interval: 1h
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 604800
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 604800
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 3
                        type: lt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: NEzutrbMk
          panelId: 2
          noDataState: NoData
          execErrState: Error
          for: 1h
          annotations:
            __dashboardUid__: NEzutrbMk
            __panelId__: "2"
            summary: '*{{ index $labels "instance" }}* {{ index $labels "alertname" }} for {{ humanize $values.B.Value }} days (< 3 days)'
          labels:
            endpoint: slack
          isPaused: false
    - orgId: 1
      name: 1m
      folder: main
      interval: 1m
      rules:
        - uid: c7215a04-88ae-4443-82a1-08e194ab9937
          title: HDD usage
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                exemplar: false
                expr: (node_filesystem_size_bytes{} - node_filesystem_avail_bytes{}) / (node_filesystem_size_bytes{} / 100)
                format: time_series
                instant: false
                intervalMs: 1000
                legendFormat: '{{instance}}'
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: dropNN
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0.9
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: D
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
            - refId: D
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: $B/100
                intervalMs: 1000
                maxDataPoints: 43200
                refId: D
                type: math
          dashboardUid: aa5d7f2e-b309-4bbb-9b53-add0ffad0477
          panelId: 174
          noDataState: NoData
          execErrState: Alerting
          for: 10m
          annotations:
            __dashboardUid__: aa5d7f2e-b309-4bbb-9b53-add0ffad0477
            __panelId__: "174"
            path: '&var-node={{ index $labels "instance" }}'
            summary: '{{ index $labels "instance" }} {{ index $labels "alertname" }} - {{ humanizePercentage $values.D.Value }} (>90%) for 10 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: dc9d8d01-e58a-4065-91e2-cbff593081de
          title: RAM usage
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: (1 - (node_memory_MemAvailable_bytes{} / (node_memory_MemTotal_bytes{})))* 100
                instant: false
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                settings:
                    mode: dropNN
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0.93
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: D
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
            - refId: D
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: $B/100
                intervalMs: 1000
                maxDataPoints: 43200
                refId: D
                type: math
          dashboardUid: aa5d7f2e-b309-4bbb-9b53-add0ffad0477
          panelId: 156
          noDataState: NoData
          execErrState: Error
          for: 10m
          annotations:
            __dashboardUid__: aa5d7f2e-b309-4bbb-9b53-add0ffad0477
            __panelId__: "156"
            path: '&var-node={{ index $labels "instance" }}'
            summary: '{{ index $labels "instance" }} {{ index $labels "alertname" }} - {{ humanizePercentage $values.D.Value }} (>90%) for 10 min'
          labels:
            endpoint: slack
          isPaused: false
        - uid: e0346c68-9a47-4e43-a2e1-24d9f49c1246
          title: is DOWN
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                expr: up{job="nodes", instance!="prod-1", instance!="prod-2"}
                instant: false
                interval: 1m
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 1
                        type: lt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          dashboardUid: aa5d7f2e-b309-4bbb-9b53-add0ffad0477
          panelId: 7
          noDataState: NoData
          execErrState: Error
          for: 5m
          annotations:
            __dashboardUid__: aa5d7f2e-b309-4bbb-9b53-add0ffad0477
            __panelId__: "7"
            path: '&var-node={{ index $labels "instance" }}'
            summary: '{{ index $labels "instance" }} {{ index $labels "alertname" }}'
          labels:
            endpoint: slack
          isPaused: false
    - orgId: 1
      name: 30s
      folder: main
      interval: 30s
      rules:
        - uid: c95ae744-bd6a-486c-91d5-77f3cf1c67b5
          title: CPU usage
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 60
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                exemplar: false
                expr: (1 - avg(rate(node_cpu_seconds_total{mode="idle", instance!="prod-1", instance!="prod-2"}[$__rate_interval])) by (instance)) * 100
                format: time_series
                instant: false
                interval: 30s
                intervalMs: 1000
                legendFormat: '{{instance}}'
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 60
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0.9
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: D
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
            - refId: D
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: $B/100
                intervalMs: 1000
                maxDataPoints: 43200
                refId: D
                type: math
          dashboardUid: aa5d7f2e-b309-4bbb-9b53-add0ffad0477
          panelId: 7
          noDataState: NoData
          execErrState: Error
          for: 3m
          annotations:
            __dashboardUid__: aa5d7f2e-b309-4bbb-9b53-add0ffad0477
            __panelId__: "7"
            path: '&var-node={{ index $labels "instance" }}'
            summary: '*{{ index $labels "instance" }}* {{ index $labels "alertname" }} - {{ humanizePercentage $values.D.Value }} (>90%) for 3 min'
          labels:
            endpoint: slack
            name: cpu_usage
          isPaused: false
        - uid: c0bfc60c-a9d2-4bec-979d-390134f90633
          title: CPU usage [PROD]
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 60
                to: 0
              datasourceUid: e35014d3-9758-4e4e-8d79-7a679b1cc3c3
              model:
                editorMode: code
                exemplar: false
                expr: (1 - avg(rate(node_cpu_seconds_total{mode="idle", instance=~"prod-[12]"}[$__rate_interval])) by (instance)) * 100
                format: time_series
                instant: false
                interval: 30s
                intervalMs: 1000
                legendFormat: '{{instance}}'
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 60
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0.9
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: D
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
            - refId: D
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: $B/100
                intervalMs: 1000
                maxDataPoints: 43200
                refId: D
                type: math
          dashboardUid: aa5d7f2e-b309-4bbb-9b53-add0ffad0477
          panelId: 7
          noDataState: OK
          execErrState: Error
          for: 3m
          annotations:
            __dashboardUid__: aa5d7f2e-b309-4bbb-9b53-add0ffad0477
            __panelId__: "7"
            path: '&var-node={{ index $labels "instance" }}'
            summary: '{{ index $labels "instance" }} {{ index $labels "alertname" }} - {{ humanizePercentage $values.D.Value }} (>90%) for 3 min'
          labels:
            endpoint: slack
            name: cpu_usage
          isPaused: false
